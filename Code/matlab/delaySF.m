%function [Y]=delaySF(~,~,~,~)
    %   Y   = espectro do sinal de saída (X,FS,d,att)
    %   X   = espectro do sinal de entrada
    %   FS  = frequencia de amostragem
    %   att = atenuacao do eco, (0,1)
    %   d   = offset do eco em ms
X = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;-0.390625000000000;-0.414062500000000;-0.289062500000000;
    -0.117187500000000;-0.0312500000000000;-0.0312500000000000;-0.0625000000000000;-0.0234375000000000;
    0.0234375000000000;0.0703125000000000;0.109375000000000;0.156250000000000;0.203125000000000;
    0.242187500000000;0.218750000000000;0;-0.164062500000000;-0.140625000000000;-0.0156250000000000;
    0.195312500000000;0.320312500000000;0.320312500000000;0.242187500000000;0.242187500000000;
    0.265625000000000;0.304687500000000;0.289062500000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0]; 
d = 200;
FS = 16000;
att = 0.5;

del=round(d*FS/1000);
n = 1 : length(X)+del; 
R = zeros(del,1);
X = [X ; R];
Z = [R ; att * X];
Y = zeros(length(n),1);

%for i=1:1:length(n)
%    Y(i) = X(n(i)) + Z(n(i));
%end
Y(n) = X(n) + Z(n);
    
Y = Y * max(abs(X))/max(abs(Y));
%end