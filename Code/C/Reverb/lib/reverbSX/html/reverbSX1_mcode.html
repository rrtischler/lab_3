<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T4U3">Y</span>]=reverbSX(<span class="mxinfo " id="T4:U2">~</span>,<span class="mxinfo " id="T19:U3">~</span>,<span class="mxinfo " id="T19:U4">~</span>, <span class="var type1" id="S3T1U9">att</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,2" id="srcline2"> 2</a></span><span class="line">    <span class="comment">%   Y   = espectro do sinal de sa√≠da</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,3" id="srcline3"> 3</a></span><span class="line">    <span class="comment">%   X   = espectro do sinal de entrada</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,4" id="srcline4"> 4</a></span><span class="line">    <span class="comment">%   FS  = frequencia de amostragem</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,5" id="srcline5"> 5</a></span><span class="line">    <span class="comment">%   att = atenuacao (0,1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,6" id="srcline6"> 6</a></span><span class="line">    <span class="comment">%   d   = offset em ms</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,7" id="srcline7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,8" id="srcline8"> 8</a></span><span class="line"><span class="mxinfo " id="T4:U6"><span class="var type1" id="S4T4U12">X</span> = <span class="mxinfo " id="T4:U8">[0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;-0.390625000000000;-0.414062500000000;-0.289062500000000;-0.117187500000000;-0.0312500000000000;-0.0312500000000000;-0.0625000000000000;-0.0234375000000000;0.0234375000000000;0.0703125000000000;0.109375000000000;0.156250000000000;0.203125000000000;0.242187500000000;0.218750000000000;0;-0.164062500000000;-0.140625000000000;-0.0156250000000000;0.195312500000000;0.320312500000000;0.320312500000000;0.242187500000000;0.242187500000000;0.265625000000000;0.304687500000000;0.289062500000000;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0]</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="1,9" id="srcline9"> 9</a></span><span class="line"><span class="mxinfo " id="T1:U9"><span class="var type1" id="S5T1U141">d</span> = <span class="mxinfo " id="T1:U11">0.5</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,10" id="srcline10">10</a></span><span class="line"><span class="mxinfo " id="T1:U12"><span class="var type1" id="S6T1U145">FS</span> = <span class="mxinfo " id="T1:U14">16000</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,11" id="srcline11">11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,12" id="srcline12">12</a></span><span class="line"><span class="comment">% criacao do filtro</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,13" id="srcline13">13</a></span><span class="line"><span class="mxinfo " id="T1:U15"><span class="var type1" id="S5T1U149">d</span>=<span class="mxinfo " id="T1:U17"><span class="var type1" id="S5T1U151">d</span>/1000</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,14" id="srcline14">14</a></span><span class="line"><span class="mxinfo " id="T1:U19"><span class="var type1" id="S7T1U155">del</span>=<span class="mxinfo " id="T1:U21">round(<span class="var type1" id="S5T1U159">d</span>*<span class="var type1" id="S6T1U160">FS</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo " id="T3:U24"><span class="var type1" id="S9T3U163">b</span>=<span class="mxinfo " id="T3:U26">zeros(1 , 4*<span class="var type1" id="S7T1U169">del</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T1:U28"><span class="mxinfo " id="T1:U29"><span class="var type1" id="S9T3U173">b</span>(1)</span>=<span class="mxinfo " id="T1:U31">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,17" id="srcline17">17</a></span><span class="line"><span class="mxinfo " id="T1:U32"><span class="var type1" id="S11T1U178">a</span>=<span class="mxinfo " id="T1:U34">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T1:U35"><span class="mxinfo " id="T1:U36"><span class="var type1" id="S9T3U183">b</span>(4*<span class="var type1" id="S7T1U186">del</span>)</span>= <span class="var type1" id="S3T1U187">att</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo " id="T1:U40"><span class="mxinfo " id="T1:U41"><span class="var type1" id="S9T3U191">b</span>(3*<span class="var type1" id="S7T1U194">del</span>)</span>= <span class="mxinfo " id="T1:U44"><span class="var type1" id="S3T1U196">att</span> + <span class="mxinfo " id="T1:U46">0.07</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,20" id="srcline20">20</a></span><span class="line"><span class="mxinfo " id="T1:U47"><span class="mxinfo " id="T1:U48"><span class="var type1" id="S9T3U201">b</span>(2*<span class="var type1" id="S7T1U204">del</span>)</span>= <span class="mxinfo " id="T1:U51"><span class="var type1" id="S3T1U206">att</span> + <span class="mxinfo " id="T1:U53">0.07</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T1:U54"><span class="mxinfo " id="T1:U55"><span class="var type1" id="S9T3U211">b</span>(<span class="var type1" id="S7T1U212">del</span>)</span>= <span class="mxinfo " id="T1:U58"><span class="var type1" id="S3T1U214">att</span> + <span class="mxinfo " id="T1:U60">0.08</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,22" id="srcline22">22</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,23" id="srcline23">23</a></span><span class="line"><span class="comment">% filtragem</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo " id="T4:U61"><span class="var type1" id="S2T4U218">Y</span>=<span class="mxinfo " id="T4:U63">filter(<span class="var type1" id="S9T3U221">b</span>,<span class="var type1" id="S11T1U222">a</span>,<span class="mxinfo " id="T4:U66"><span class="var type1" id="S4T4U223">X</span></span>)</span></span>;</span></span>
</pre>
